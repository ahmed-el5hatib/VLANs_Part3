<!DOCTYPE html>
<!-- 5. Changed to LTR for English -->
<html lang="en" dir="ltr" class="scroll-pt-24">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VLANs Part 3: Advanced Management & Security</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        /* 2. New Dark Sidebar styles */
        #sidebar {
            background-color: #111827; /* gray-900 */
        }
        .sidebar-link {
            color: #D1D5DB; /* gray-300 */
            transition: all 0.3s;
        }
        .sidebar-link:hover {
            background-color: #06b6d4; /* cyan-500 */
            color: #FFFFFF;
            transform: translateX(4px);
        }
        .sidebar-link.active {
            background-color: #06b6d4; /* cyan-500 */
            color: #FFFFFF;
            font-weight: 600;
        }
        pre[class*="language-"] {
            position: relative;
            direction: ltr;
            text-align: left;
        }
        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem; 
            background-color: #4B5563; /* gray-600 */
            color: white;
            border: none;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            cursor: pointer;
            font-size: 0.75rem;
            opacity: 0;
            transition: opacity 0.3s;
        }
        pre:hover .copy-btn {
            opacity: 1;
        }

        /* --- New Styles for Quiz and Accordion --- */
        
        /* Quiz Styles */
        .quiz-option {
            display: block;
            padding: 0.75rem 1rem;
            border: 1px solid #D1D5DB; /* gray-300 */
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .quiz-option:hover {
            background-color: #F0F9FF; /* cyan-50 */
            border-color: #06B6D4; /* cyan-500 */
        }
        .quiz-option input[type="radio"] {
            display: none;
        }
        .quiz-option input[type="radio"]:checked + label {
            border-color: #06B6D4; /* cyan-500 */
            background-color: #ECFEFF; /* cyan-100 */
            font-weight: 600;
        }
        .quiz-feedback {
            padding: 1rem;
            border-radius: 0.5rem;
            margin-top: 1rem;
            font-size: 0.9rem;
        }
        .quiz-correct {
            background-color: #D1FAE5; /* green-100 */
            border: 1px solid #10B981; /* green-500 */
            color: #047857; /* green-800 */
        }
        .quiz-incorrect {
            background-color: #FEE2E2; /* red-100 */
            border: 1px solid #EF4444; /* red-500 */
            color: #B91C1C; /* red-800 */
        }

        /* Accordion Styles */
        .accordion-toggle {
            background-color: #F3F4F6; /* gray-100 */
            color: #111827; /* gray-900 */
            padding: 1rem 1.5rem;
            width: 100%;
            text-align: left;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            font-size: 1.125rem;
            cursor: pointer;
            transition: background-color 0.3s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .accordion-toggle:hover {
            background-color: #E5E7EB; /* gray-200 */
        }
        .accordion-toggle.active + .accordion-panel {
            max-height: 2000px; /* Set a large max-height */
            opacity: 1;
            padding-top: 1.5rem;
        }
        .accordion-toggle .icon {
            transition: transform 0.3s;
        }
        .accordion-toggle.active .icon {
            transform: rotate(180deg);
        }
        .accordion-panel {
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: max-height 0.5s ease-in-out, opacity 0.3s, padding-top 0.3s;
        }

        /* --- NEW: Style for important commands --- */
        .command-line {
            color: #F59E0B; /* Tailwind amber-500 */
            font-weight: 600;
        }

        /* --- NEW: Style for focus text and command output --- */
        .focus-text {
            color: #D97706; /* Tailwind amber-600 */
            font-weight: 600;
        }
        .command-output {
            color: #A5F3FC; /* Tailwind cyan-200 */
        }
        
        /* --- NEW: Style for main questions --- */
        .question-title {
            color: #1D4ED8; /* Tailwind blue-700 */
            border-left: 4px solid #06B6D4; /* cyan-500 */
            padding-left: 0.75rem;
            margin-bottom: 0.75rem !important; /* Override prose default margin */
        }
        
        /* --- NEW: Style for Deep Dive Box --- */
        .deep-dive-box {
            background-color: #FFFBEB; /* amber-50 */
            border-left: 4px solid #F59E0B; /* amber-500 */
            color: #B45309; /* amber-800 */
            padding: 1rem;
            border-radius: 0.5rem;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
        }
        .deep-dive-box h4 {
            font-weight: 700;
            color: #92400E; /* amber-900 */
            margin-top: 0 !important;
            margin-bottom: 0.5rem !important;
            display: flex;
            align-items: center;
        }
        .deep-dive-box p {
            margin-bottom: 0 !important;
        }


    </style>
</head>
<body class="bg-gray-100 text-gray-900">

    <!-- 4. Updated Copy Message to English -->
    <div id="copy-message" class="hidden fixed bottom-4 left-4 bg-green-500 text-white py-2 px-4 rounded-lg shadow-lg text-lg z-50">
        Copied!
    </div>

    <div class="flex flex-col md:flex-row">
        
        <!-- Mobile Header -->
        <div class="md:hidden bg-gray-900 text-white shadow-md p-4 flex justify-between items-center sticky top-0 z-40">
            <h1 class="text-xl font-bold text-cyan-400">VLANs - Part 3</h1>
            <button id="mobile-menu-btn" class="text-gray-300 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </div>

        <!-- Sidebar -->
        <nav id="sidebar" class="fixed md:sticky top-0 h-screen w-64 p-6 overflow-y-auto transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out z-30 md:z-10">
            
            <!-- 3. Profile Placeholder Added & NOW LINKED -->
            <div class="flex flex-col items-center mb-8">
                <!-- Placeholder for your photo -->
                <a href="https://github.com/ahmed-el5hatib/VLANs_Part3/blob/main/ahmed.jpg" target="_blank" rel="noopener noreferrer" class="transition-transform transform hover:scale-105">
                    <img class="w-24 h-24 rounded-full border-4 border-cyan-500 mb-3" 
                         src="https://placehold.co/100x100/111827/FFFFFF?text=AE" 
                         alt="Profile Picture">
                </a>
                <a href="https://linkedin.com/in/el5hatib" target="_blank" rel="noopener noreferrer" class="hover:text-cyan-400 transition">
                    <h2 class="text-xl font-semibold text-white">Ahmed El-khatib</h2>
                </a>
                <a href="https://linkedin.com/in/el5hatib" target="_blank" rel="noopener noreferrer" class="hover:text-cyan-400 transition">
                    <p class="text-sm text-cyan-400">@el5hatib</p>
                </a>
            </div>

            <h2 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4">CCNA Series</h2>
            <ul class="space-y-2" id="sidebar-links">
                <li><a href="#intro" class="sidebar-link block p-3 rounded-lg font-medium">Introduction</a></li>
                <li><a href="#native-vlan" class="sidebar-link block p-3 rounded-lg font-medium">1. Native VLAN</a></li>
                <li><a href="#allowed-vlans" class="sidebar-link block p-3 rounded-lg font-medium">2. Allowed VLANs</a></li>
                <li><a href="#dtp" class="sidebar-link block p-3 rounded-lg font-medium">3. DTP</a></li>
                <li><a href="#voice-vlan" class="sidebar-link block p-3 rounded-lg font-medium">4. Voice VLAN</a></li>
                <li><a href="#security" class="sidebar-link block p-3 rounded-lg font-medium">5. VLAN Security</a></li>
                <li><a href="#lab" class="sidebar-link block p-3 rounded-lg font-medium">6. Comprehensive Lab</a></li>
                <!-- NEW: Added Bonus Sections -->
                <li><a href="#bonus-vtp" class="sidebar-link block p-3 rounded-lg font-medium">7. Bonus: VTP</a></li>
                <li><a href="#bonus-protected" class="sidebar-link block p-3 rounded-lg font-medium">8. Bonus: Protected Ports</a></li>
                <li><a href="#conclusion" class="sidebar-link block p-3 rounded-lg font-medium">9. Conclusion</a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <!-- 2. Added `prose` classes for beautiful typography -->
        <main class="flex-1 p-6 md:p-10 max-w-5xl mx-auto">
            
            <!-- 1. Full English Translation -->
            <section id="intro" class="mb-12 scroll-mt-24 bg-white p-8 rounded-lg shadow-sm">
                <div class="prose prose-lg max-w-none prose-cyan">
                    <h1 class="text-4xl font-bold text-cyan-800 mb-4">VLANs Part 3: Advanced Management & Security</h1>
                    <p>In Part 1 and Part 2, we covered what VLANs are, why we use them, and how to configure them on both single and multiple switches.</p>
                    <p>In this part, we're diving into more advanced topics, including:</p>
                    <ul class="bg-gray-50 p-5 rounded-lg">
                        <li>üè∑Ô∏è Native VLAN</li>
                        <li>üö¶ Allowed VLANs</li>
                        <li>ü§ù DTP (Dynamic Trunking Protocol)</li>
                        <li>üìû Voice VLAN</li>
                        <li>üîí VLAN Security</li>
                        <li>üî¨ Comprehensive Lab</li>
                        <!-- NEW: Added Bonus Topics -->
                        <li>‚òÅÔ∏è Bonus: VTP</li>
                        <li>üõ°Ô∏è Bonus: Protected Ports</li>
                    </ul>
                    <p>Let's break down each concept with detailed explanations and examples. Let's go!</p>
                </div>
                
                <!-- NEW: Nav Buttons -->
                <div class="flex justify-end mt-12">
                    <a href="#native-vlan" class="inline-flex items-center px-6 py-2 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
                        Start Lesson &rarr;
                    </a>
                </div>
            </section>

            <!-- Section 1: Native VLAN -->
            <section id="native-vlan" class="mb-12 scroll-mt-24 bg-white p-8 rounded-lg shadow-sm">
                <div class="prose prose-lg max-w-none prose-cyan">
                    <h2 class="text-3xl font-bold text-gray-800 border-b-2 border-cyan-500 pb-2">1Ô∏è‚É£ Concept 1: Native VLAN</h2>
                    <p>Remember in Part 2, we learned that the <strong class="focus-text">802.1Q</strong> protocol adds a "Tag" to each frame to identify its VLAN (VLAN 10, 20, etc.)?</p>
                    <p class="text-xl font-semibold"><strong>So, what about traffic that doesn't have a tag?</strong></p>
                    
                    <h3 class="question-title">What is the Native VLAN?</h3>
                    <p>The Native VLAN is the one VLAN that gets "special treatment." The switch <strong>does not add a tag</strong> to any frame belonging to the Native VLAN when it crosses a trunk link. It travels "<strong class="focus-text">Untagged</strong>."</p>
                    <ul>
-                        <li><strong>Default:</strong> On all Cisco switches, <strong>the Native VLAN is VLAN 1</strong>.</li>
+                        <li><strong>Default:</strong> On all Cisco switches, <strong class="focus-text">the Native VLAN is VLAN 1</strong>.</li>
                        <li><strong>Why does it exist?</strong> It was created for backward compatibility with old devices (like hubs) that don't understand tags, and to carry certain control protocols.</li>
                    </ul>

                    <h3 class="question-title">Example: How does it work?</h3>
                    <ol>
                        <li>A PC in <code>VLAN 10</code> sends data across the trunk.
                            <ul class="bg-gray-50 p-3 rounded my-2"><li><strong>Result:</strong> The switch adds a <code>VLAN 10</code> Tag.</li></ul>
                        </li>
                        <li>A device in <code>VLAN 1</code> (the default Native VLAN) sends data across the trunk.
-                            <ul class="bg-gray-50 p-3 rounded my-2"><li><strong>Result:</strong> The switch sends the frame <strong>as-is (Untagged)</strong>.</li></ul>
+                            <ul class="bg-gray-50 p-3 rounded my-2"><li><strong>Result:</strong> The switch sends the frame <strong class="focus-text">as-is (Untagged)</strong>.</li></ul>
                        </li>
                    </ol>
-                    <p>When the receiving switch gets an <strong>Untagged</strong> frame on a trunk port, it automatically assumes that frame belongs to its own configured Native VLAN (which is also VLAN 1 by default).</p>
+                    <p>When the receiving switch gets an <strong class="focus-text">Untagged</strong> frame on a trunk port, it automatically assumes that frame belongs to its own configured Native VLAN (which is also VLAN 1 by default).</p>

                    <!-- Warning Box -->
                    <div class="not-prose bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 rounded-lg my-6 shadow-sm">
                        <h4 class="font-bold text-lg mb-2 flex items-center">
                            <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.332-.216 3.03-1.742 3.03H4.42c-1.526 0-2.492-1.698-1.742-3.03l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>
                            The Big Problem: Native VLAN Mismatch
                        </h4>
                        <p class="mb-2">Imagine this scenario:</p>
                        <ul class="list-disc list-inside space-y-1 mb-3">
                            <li><strong>SW1:</strong> Port is set to <code>native vlan 99</code></li>
                            <li><strong>SW2:</strong> Port is left on default (<code>native vlan 1</code>)</li>
                        </ul>
                        <p class="font-semibold mb-2"><strong>What happens?</strong></p>
                        <!-- Diagram for Mismatch -->
                        <div class="bg-slate-100 border-2 border-dashed border-cyan-300 p-4 rounded-lg my-6">
                            <h5 class="text-lg font-bold text-cyan-700 mb-4 text-center">Data Flow: Native VLAN Mismatch</h5>
                            <div class="flex flex-col md:flex-row items-center justify-around text-center">
                                <div class="flex flex-col items-center p-2">
                                    <div class="bg-white p-3 rounded-lg shadow-md w-40"><span class="font-bold block">SW1</span><span class="text-sm font-mono">Native VLAN = 99</span></div>
                                    <div class="text-sm mt-2">Frame from <code>VLAN 99</code></div>
                                </div>
                                <div class="text-3xl text-cyan-500 my-4 md:my-0 md:mx-4 font-mono font-bold">&darr;<br>Untagged<br>&darr;</div>
                                <div class="flex flex-col items-center p-2">
                                    <div class="bg-white p-3 rounded-lg shadow-md w-40"><span class="font-bold block">SW2</span><span class="text-sm font-mono">Native VLAN = 1</span></div>
-                                    <div class="text-sm mt-2 text-red-600 font-bold">Received in <code>VLAN 1</code> (<strong>VLAN Bleed!</strong>)</div>
+                                    <div class="text-sm mt-2 text-red-600 font-bold">Received in <code>VLAN 1</code> (<strong class="focus-text">VLAN Bleed!</strong>)</div>
                                 </div>
                             </div>
                         </div>
-                        <p><strong>Result:</strong> Traffic from VLAN 99 has "bled" or "leaked" into VLAN 1. The switches will send CDP warnings about this, but they won't stop it from happening.</p>
+                        <p><strong>Result:</strong> Traffic from VLAN 99 has "bled" or "leaked" into VLAN 1. The switches will send CDP warnings about this, but they won't stop it from happening.</p>
                    </div>
                    
                    <h3>Native VLAN Commands</h3>
                    <p>To change the Native VLAN (a critical security step):</p>
                    <div class="not-prose code-block relative my-6">
                        <pre class="language-cisco bg-gray-900 text-white p-4 rounded-lg overflow-x-auto"><code class="language-cisco">Switch(config)# interface GigabitEthernet0/1
Switch(config-if)# <span class="command-line">switchport trunk native vlan 99</span>
</code><button class="copy-btn">Copy</button></pre>
                    </div>

                    <!-- Best Practice Box -->
                    <div class="not-prose bg-green-100 border-l-4 border-green-500 text-green-800 p-4 rounded-lg my-6 shadow-sm">
                        <h4 class="font-bold text-lg flex items-center">
                            <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                            Security Best Practice
                        </h4>
-                        <p>Always change the Native VLAN from 1 to another unused VLAN (like 99 or 999). Make sure it's <strong>configured identically</strong> on both ends of the trunk.</p>
+                        <p>Always change the Native VLAN from 1 to another unused VLAN (like 99 or 999). Make sure it's <strong class="focus-text">configured identically</strong> on both ends of the trunk.</p>
                    </div>

                    <!-- --- KNOWLEDGE CHECK 1 --- -->
                    <div class="not-prose quiz-container mt-12 bg-gray-50 p-6 rounded-lg border border-gray-200">
                        <h4 class="text-xl font-semibold text-gray-800 mb-4">üß† Knowledge Check</h4>
                        <p class="font-medium text-gray-700 mb-4">What is the default Native VLAN on a Cisco switch, and how does its traffic cross a trunk?</p>
                        <div class="quiz-options">
                            <label class="quiz-option">
                                <input type="radio" name="quiz1" value="a">
                                <span class="ml-2">VLAN 99, Tagged</span>
                            </label>
                            <label class="quiz-option">
                                <input type="radio" name="quiz1" value="b" data-correct="true">
                                <span class="ml-2">VLAN 1, Untagged</span>
                            </label>
                            <label class="quiz-option">
                                <input type="radio" name="quiz1" value="c">
                                <span class="ml-2">VLAN 1, Tagged</span>
                            </label>
                            <label class="quiz-option">
                                <input type="radio" name="quiz1" value="d">
                                <span class="ml-2">VLAN 10, Untagged</span>
                            </label>
                        </div>
                        <button class="quiz-check-btn mt-4 bg-cyan-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-cyan-700 transition">Check Answer</button>
                        <div class="quiz-feedback quiz-correct hidden mt-4">
                            <strong>Correct!</strong> By default, VLAN 1 is the Native VLAN, and all its traffic crosses trunk links untagged.
                        </div>
                        <div class="quiz-feedback quiz-incorrect hidden mt-4">
                            <strong>Not quite.</strong> Remember, the default Native VLAN is VLAN 1, and its specific behavior is that it travels *untagged*.
                        </div>
                    </div>
                    <!-- --- END KNOWLEDGE CHECK 1 --- -->

                </div>

                <!-- NEW: Nav Buttons -->
                <div class="flex justify-between mt-12">
                    <a href="#intro" class="inline-flex items-center px-4 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg hover:bg-gray-400 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
                        &larr; Introduction
                    </a>
                    <a href="#allowed-vlans" class="inline-flex items-center px-4 py-2 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
                        Next: Allowed VLANs &rarr;
                    </a>
                </div>
            </section>

            <!-- Section 2: Allowed VLANs -->
            <section id="allowed-vlans" class="mb-12 scroll-mt-24 bg-white p-8 rounded-lg shadow-sm">
                <div class="prose prose-lg max-w-none prose-cyan">
                    <h2 class="text-3xl font-bold text-gray-800 border-b-2 border-cyan-500 pb-2">2Ô∏è‚É£ Concept 2: Allowed VLANs</h2>
                    <p>By default, a trunk port allows <strong class="focus-text">all</strong> VLANs (1-4094) to pass through it. This is inefficient and insecure.</p>
                    <ul>
                        <li><strong>Performance:</strong> It floods unnecessary broadcast/multicast traffic for all VLANs to switches that may not even have users in those VLANs.</li>
                        <li><strong>Security:</strong> If one switch is compromised, the attacker has a pathway to every VLAN on the network.</li>
                    </ul>

                    <h3 class="question-title">What is the Allowed VLANs List?</h3>
                    <p>It's a "filter" we apply to the trunk port to specify <strong class="focus-text">only</strong> the VLANs that are permitted to cross. This is also known as "VLAN Pruning."</p>
                    
<!-- ... existing code ...
Switch(config-if)# <span class="command-line">switchport trunk allowed vlan remove 20</span>
</code><button class="copy-btn">Copy</button></pre>
                    </div>

                    <h3 class="question-title">How to Verify</h3>
                    <p>Use the same command as before, but read it with a deeper understanding:</p>
                    <div class="not-prose code-block relative my-6">
-                        <pre class="language-cisco bg-gray-900 text-white p-4 rounded-lg overflow-x-auto"><code class="language-cisco">Switch# <span class="command-line">show interfaces trunk</span>
-
-Port        Mode         Encapsulation  Status        Native vlan
-Gi0/1       on           802.1q         trunking      99
-
-Port        Vlans allowed on trunk
-Gi0/1       10,30,99
-
-Port        Vlans allowed and active in management domain
-Gi0/1         10,30,99
-
-Port        Vlans in spanning tree forwarding state and not pruned
-Gi0/1       10,30,99
+                        <pre class="language-cisco bg-gray-900 text-white p-4 rounded-lg overflow-x-auto"><code class="language-cisco">Switch# <span class="command-line">show interfaces trunk</span>

<span class="command-output">Port        Mode         Encapsulation  Status        Native vlan
Gi0/1       on           802.1q         trunking      99

Port        Vlans allowed on trunk
Gi0/1       10,30,99

Port        Vlans allowed and active in management domain
Gi0/1         10,30,99

Port        Vlans in spanning tree forwarding state and not pruned
Gi0/1       10,30,99</span>
</code><button class="copy-btn">Copy</button></pre>
                    </div>

                    <!-- --- KNOWLEDGE CHECK 2 --- -->
                    <div class="not-prose quiz-container mt-12 bg-gray-50 p-6 rounded-lg border border-gray-200">
                        <h4 class="text-xl font-semibold text-gray-800 mb-4">üß† Knowledge Check</h4>
                        <p class="font-medium text-gray-700 mb-4">You have configured `switchport trunk allowed vlan 10,20`. Now you enter `switchport trunk allowed vlan 30`. What is the result?</p>
                        <div class="quiz-options">
                            <label class="quiz-option">
                                <input type="radio" name="quiz2" value="a">
                                <span class="ml-2">VLANs 10, 20, and 30 are allowed.</span>
                            </label>
                            <label class="quiz-option">
                                <input type="radio" name="quiz2" value="b" data-correct="true">
                                <span class="ml-2">Only VLAN 30 is allowed.</span>
                            </label>
                            <label class="quiz-option">
                                <input type="radio" name="quiz2" value="c">
                                <span class="ml-2">The command is rejected.</span>
                            </label>
                        </div>
                        <button class="quiz-check-btn mt-4 bg-cyan-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-cyan-700 transition">Check Answer</button>
                        <div class="quiz-feedback quiz-correct hidden mt-4">
                            <strong>Correct!</strong> The command `...allowed vlan 30` *replaces* the entire list. To add to the list, you must use `...allowed vlan add 30`.
                        </div>
                        <div class="quiz-feedback quiz-incorrect hidden mt-4">
                            <strong>Incorrect.</strong> The `switchport trunk allowed vlan ...` command *replaces* the existing list by default. To add, you must use the `add` keyword.
                        </div>
                    </div>
                    <!-- --- END KNOWLEDGE CHECK 2 --- -->

                </div>
                
                <!-- NEW: Nav Buttons -->
                <div class="flex justify-between mt-12">
                    <a href="#native-vlan" class="inline-flex items-center px-4 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg hover:bg-gray-400 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
                        &larr; Previous: Native VLAN
                    </a>
                    <a href="#dtp" class="inline-flex items-center px-4 py-2 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
                        Next: DTP &rarr;
                    </a>
                </div>
            </section>

            <!-- Section 3: DTP -->
            <section id="dtp" class="mb-12 scroll-mt-24 bg-white p-8 rounded-lg shadow-sm">
                <div class="prose prose-lg max-w-none prose-cyan">
                    <h2 class="text-3xl font-bold text-gray-800 border-b-2 border-cyan-500 pb-2">3Ô∏è‚É£ Concept 3: Dynamic Trunking Protocol (DTP)</h2>
-                    <p>So far, we've been using <code>switchport mode trunk</code>, which is a <strong>static</strong> configuration.</p>
+                    <p>So far, we've been using <code>switchport mode trunk</code>, which is a <strong class="focus-text">static</strong> configuration.</p>
                    <p class="text-xl font-semibold"><strong>But what happens if you take two brand-new switches out of the box and just plug them into each other?</strong></p>
                    <p class="text-xl my-4 bg-cyan-50 text-cyan-800 p-3 rounded-lg"><strong>Surprise: They'll automatically form a trunk!</strong></p>
-                    <p>The reason is <strong>DTP (Dynamic Trunking Protocol)</strong>. This is a Cisco-proprietary protocol whose job is to <strong>negotiate</strong> with the port on the other side to decide if their link should become a Trunk or an Access port.</p>
+                    <p>The reason is <strong>DTP (Dynamic Trunking Protocol)</strong>. This is a Cisco-proprietary protocol whose job is to <strong class="focus-text">negotiate</strong> with the port on the other side to decide if their link should become a Trunk or an Access port.</p>

                    <h3 class="question-title">DTP Modes</h3>
                    <ol>
                        <li><strong><code>switchport mode access</code> (Static):</strong>
-                            <ul><li>Forces the port to be Access. <strong>Stops sending DTP.</strong></li></ul>
+                            <ul><li>Forces the port to be Access. <strong class="focus-text">Stops sending DTP.</strong></li></ul>
                        </li>
                        <li><strong><code>switchport mode trunk</code> (Static):</strong>
-                            <ul><li>Forces the port to be Trunk. <strong>Keeps sending DTP</strong> to inform the other side.</li></ul>
+                            <ul><li>Forces the port to be Trunk. <strong class="focus-text">Keeps sending DTP</strong> to inform the other side.</li></ul>
                        </li>
                        <li><strong><code>switchport mode dynamic auto</code> (Default):</strong>
-                            <ul><li>The <strong>"passive" or "lazy"</strong> mode.</li><li>It says: "I'm willing to be a trunk, but I won't start the conversation. You ask me."</li></ul>
+                            <ul><li>The <strong class="focus-text">"passive" or "lazy"</strong> mode.</li><li>It says: "I'm willing to be a trunk, but I won't start the conversation. You ask me."</li></ul>
                        </li>
                        <li><strong><code>switchport mode dynamic desirable</code>:</strong>
-                            <ul><li>The <strong>"active" or "chatty"</strong> mode.</li><li>It actively says: "Hey! Let's become a trunk!"</li></ul>
+                            <ul><li>The <strong class="focus-text">"active" or "chatty"</strong> mode.</li><li>It actively says: "Hey! Let's become a trunk!"</li></ul>
                        </li>
                    </ol>

                    <h3 class="question-title">Negotiation Results</h3>
                    <div class="not-prose overflow-x-auto shadow-md rounded-lg border my-6">
                        <table class="w-full text-center text-gray-700 bg-white">
                            <thead class="bg-gray-200 text-gray-800">
                                <tbody class="divide-y divide-gray-200">
                                    <tr class="hover:bg-gray-50">
                                        <td class="p-3"><code>dynamic desirable</code></td>
                                        <td class="p-3"><code>dynamic desirable</code></td>
-                                        <td class="p-3 font-bold text-green-600"><strong>Trunk</strong></td>
+                                        <td class="p-3 font-bold text-green-600"><strong class="focus-text">Trunk</strong></td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="p-3"><code>dynamic desirable</code></td>
                                        <td class="p-3"><code>dynamic auto</code></td>
-                                        <td class="p-3 font-bold text-green-600"><strong>Trunk</strong></td>
+                                        <td class="p-3 font-bold text-green-600"><strong class="focus-text">Trunk</strong></td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="p-3"><code>dynamic desirable</code></td>
                                        <td class="p-3"><code>trunk</code></td>
-                                        <td class="p-3 font-bold text-green-600"><strong>Trunk</strong></td>
+                                        <td class="p-3 font-bold text-green-600"><strong class="focus-text">Trunk</strong></td>
                                    </tr>
                                    <tr class="hover:bg-gray-50 bg-yellow-50">
                                        <td class="p-3"><code>dynamic auto</code></td>
                                        <td class="p-3"><code>dynamic auto</code></td>
-                                        <td class="p-3 font-bold text-red-600"><strong>Access</strong> (Both are passive)</td>
+                                        <td class="p-3 font-bold text-red-600"><strong class="focus-text">Access</strong> (Both are passive)</td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="p-3"><code>dynamic auto</code></td>
                                        <td class="p-3"><code>trunk</code></td>
-                                        <td class="p-3 font-bold text-green-600"><strong>Trunk</strong></td>
+                                        <td class="p-3 font-bold text-green-600"><strong class="focus-text">Trunk</strong></td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="p-3"><code>access</code></td>
                                        <td class="p-3">(Any)</td>
-                                        <td class="p-3 font-bold text-red-600"><strong>Access</strong></td>
+                                        <td class="p-3 font-bold text-red-600"><strong class="focus-text">Access</strong></td>
                                    </tr>
                                </tbody>
                        </table>
                    </div>

                    <!-- Best Practice Box -->
                    <div class="not-prose bg-green-100 border-l-4 border-green-500 text-green-800 p-4 rounded-lg my-6 shadow-sm">
                        <h4 class="font-bold text-lg flex items-center">
                            <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                            Security Best Practice
                        </h4>
                        <p class="mb-2"><strong>Never use DTP.</strong> It's a significant security hole (as we'll see next).</p>
                        <ul class="list-disc list-inside space-y-1">
                            <li>Ports for user devices -> Statically set to <code>switchport mode access</code>.</li>
                            <li>Ports for other switches -> Statically set to <code>switchport mode trunk</code>.</li>
                            <li>You can also disable DTP entirely with <code>switchport non-negotiate</code>.</li>
                        </ul>
                    </div>

                    <!-- --- KNOWLEDGE CHECK 3 --- -->
                    <div class="not-prose quiz-container mt-12 bg-gray-50 p-6 rounded-lg border border-gray-200">
                        <h4 class="text-xl font-semibold text-gray-800 mb-4">üß† Knowledge Check</h4>
                        <p class="font-medium text-gray-700 mb-4">If SW1 is set to `dynamic auto` and SW2 is set to `dynamic desirable`, what will the link status be?</p>
                        <div class="quiz-options">
                            <label class="quiz-option">
                                <input type="radio" name="quiz3" value="a">
                                <span class="ml-2">Access</span>
                            </label>
                            <label class="quiz-option">
                                <input type="radio" name="quiz3" value="b">
                                <span class="ml-2">The link will be disabled.</span>
                            </label>
                            <label class="quiz-option">
                                <input type="radio" name="quiz3" value="c" data-correct="true">
                                <span class="ml-2">Trunk</span>
                            </label>
                        </div>
                        <button class="quiz-check-btn mt-4 bg-cyan-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-cyan-700 transition">Check Answer</button>
                        <div class="quiz-feedback quiz-correct hidden mt-4">
                            <strong>Correct!</strong> The `desirable` side actively negotiates, and the `auto` side passively agrees. The result is a trunk.
                        </div>
                        <div class="quiz-feedback quiz-incorrect hidden mt-4">
                            <strong>Incorrect.</strong> Remember, `dynamic desirable` is "active" and will successfully negotiate a trunk with a "passive" `dynamic auto` port.
                        </div>
                    </div>
                    <!-- --- END KNOWLEDGE CHECK 3 --- -->

                </div>

                <!-- NEW: Nav Buttons -->
                <div class="flex justify-between mt-12">
                    <a href="#allowed-vlans" class="inline-flex items-center px-4 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg hover:bg-gray-400 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
                        &larr; Previous: Allowed VLANs
                    </a>
                    <a href="#voice-vlan" class="inline-flex items-center px-4 py-2 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
                        Next: Voice VLAN &rarr;
                    </a>
                </div>
            </section>
            
            <!-- Section 4: Voice VLAN -->
            <section id="voice-vlan" class="mb-12 scroll-mt-24 bg-white p-8 rounded-lg shadow-sm">
                <div class="prose prose-lg max-w-none prose-cyan">
                    <h2 class="text-3xl font-bold text-gray-800 border-b-2 border-cyan-500 pb-2">4Ô∏è‚É£ Concept 4: Voice VLAN</h2>
-                    <p>This is a very common "real-world" scenario. In most offices, you have one network jack in the wall, but two devices: an <strong>IP Phone</strong> and a <strong>PC</strong>.</p>
+                    <p>This is a very common "real-world" scenario. In most offices, you have one network jack in the wall, but two devices: an <strong class="focus-text">IP Phone</strong> and a <strong class="focus-text">PC</strong>.</p>
                    <p>The PC plugs into the phone, and the phone plugs into the wall (the switch).</p>

                    <!-- Info Box -->
                    <div class="not-prose bg-cyan-50 border-l-4 border-cyan-500 text-cyan-800 p-4 rounded-lg my-6 shadow-sm">
                        <h4 class="font-bold text-lg mb-2 flex items-center">
                            <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>
                            <strong>The Dilemma:</strong>
                        </h4>
                        <ul class="list-disc list-inside space-y-1">
                            <li>The PC must be in <code>VLAN 10</code> (Data).</li>
                            <li>The Phone must be in <code>VLAN 20</code> (Voice) (to guarantee Quality of Service - QoS).</li>
                        </ul>
                        <p class="font-semibold mt-3"><strong>How can one Access port serve two VLANs?</strong></p>
                    </div>

                    <h3 class="question-title">The Solution: The Multi-VLAN Access Port</h3>
                    <p>We configure the port as `access`, but we define two different VLANs for it:</p>
                    <ol>
-                        <li><strong>Access VLAN (Data):</strong> The network for the PC (e.g., <code>VLAN 10</code>). The switch treats all traffic from the PC as <strong>Untagged</strong>.</li>
-                        <li><strong>Voice VLAN (Voice):</strong> The network for the phone (e.g., <code>VLAN 20</code>). The switch tells the phone (via CDP) to <strong>Tag</strong> its own voice traffic with <code>VLAN 20</code>.</li>
+                        <li><strong>Access VLAN (Data):</strong> The network for the PC (e.g., <code>VLAN 10</code>). The switch treats all traffic from the PC as <strong class="focus-text">Untagged</strong>.</li>
+                        <li><strong>Voice VLAN (Voice):</strong> The network for the phone (e.g., <code>VLAN 20</code>). The switch tells the phone (via CDP) to <strong class="focus-text">Tag</strong> its own voice traffic with <code>VLAN 20</code>.</li>
                    </ol>

                    <!-- Diagram for Voice VLAN -->
                    <div class="not-prose bg-slate-100 border-2 border-dashed border-cyan-300 p-4 rounded-lg my-6">
                        <h5 class="text-lg font-bold text-cyan-700 mb-4 text-center">Data Flow: Voice VLAN</h5>
                        <div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-8">
                            <div class="text-center">
                                <div class="bg-white p-3 rounded-lg shadow-md font-mono">[PC]</div>
                                <div class="text-sm mt-2">VLAN 10 (Data)</div>
                                <div class="text-2xl text-cyan-500 font-bold">&darr;</div>
                                <div class="text-sm font-mono">Untagged Frame</div>
                            </div>
                            <div class="text-center">
                                <div class="bg-white p-3 rounded-lg shadow-md font-mono">[IP Phone]</div>
                                <div class="text-sm mt-2">VLAN 20 (Voice)</div>
                                <div class="text-2xl text-cyan-500 font-bold">&darr;</div>
                                <div class="text-sm font-mono">Tagged Frame (VLAN 20)</div>
                            </div>
                            <div class="text-center md:pt-16">
                                <div class="text-2xl text-cyan-500 font-bold">&darr;</div>
                                <div class="bg-gray-900 text-white p-3 rounded-lg shadow-md font-mono">[Switch Port Fa0/1]</div>
                                <div class="text-sm mt-2">Access: 10, Voice: 20</div>
                            </div>
                        </div>
                    </div>

                    <h3>Voice VLAN Commands</h3>
                    <div class="not-prose code-block relative my-6">
                        <pre class="language-cisco bg-gray-900 text-white p-4 rounded-lg overflow-x-auto"><code class="language-cisco">! Step 1: Create the VLANs
Switch(config)# <span class="command-line">vlan 10</span>
Switch(config-vlan)# <span class="command-line">name DATA</span>
Switch(config)# <span class="command-line">vlan 20</span>
Switch(config-vlan)# <span class="command-line">name VOICE</span>

! Step 2: Configure the port
Switch(config)# <span class="command-line">interface FastEthernet0/1</span>
Switch(config-if)# <span class="command-line">switchport mode access</span>
! This is the Data VLAN (for the PC)
Switch(config-if)# <span class="command-line">switchport access vlan 10</span>
! This is the Voice VLAN (for the phone)
Switch(config-if)# <span class="command-line">switchport voice vlan 20</span>
</code><button class="copy-btn">Copy</button></pre>
                    </div>
                    
                    <h3 class="question-title">How to Verify</h3>
                    <div class="not-prose code-block relative my-6">
                        <pre class="language-cisco bg-gray-900 text-white p-4 rounded-lg overflow-x-auto"><code class="language-cisco">Switch# <span class="command-line">show interfaces FastEthernet0/1 switchport</span>
-
-Name: Fa0/1
-Switchport: Enabled
-Administrative Mode: static access
-Operational Mode: static access
-...
-Access Mode VLAN: 10 (DATA)
-Trunking Native Mode VLAN: 1 (default)
-...
-Voice VLAN: 20 (VOICE)
+                        <pre class="language-cisco bg-gray-900 text-white p-4 rounded-lg overflow-x-auto"><code class="language-cisco">Switch# <span class="command-line">show interfaces FastEthernet0/1 switchport</span>

<span class="command-output">Name: Fa0/1
Switchport: Enabled
Administrative Mode: static access
Operational Mode: static access
...
Access Mode VLAN: 10 (DATA)
Trunking Native Mode VLAN: 1 (default)
...
Voice VLAN: 20 (VOICE)</span>
</code></pre>
                    </div>

                </div>

                <!-- NEW: Nav Buttons -->
                <div class="flex justify-between mt-12">
                    <a href="#dtp" class="inline-flex items-center px-4 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg hover:bg-gray-400 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
                        &larr; Previous: DTP
                    </a>
                    <a href="#security" class="inline-flex items-center px-4 py-2 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
                        Next: VLAN Security &rarr;
                    </a>
                </div>
            </section>

            <!-- Section 5: VLAN Security -->
            <section id="security" class="mb-12 scroll-mt-24 bg-white p-8 rounded-lg shadow-sm">
                <div class="prose prose-lg max-w-none prose-cyan">
                    <h2 class="text-3xl font-bold text-gray-800 border-b-2 border-cyan-500 pb-2">5Ô∏è‚É£ Concept 5: VLAN Security</h2>
                    <p>Now let's tie all these concepts together and see why they are so important for security.</p>
                    
                    <!-- NEW: Deep Dive on VLAN 1 Dangers -->
                    <div class="not-prose deep-dive-box">
                        <h4 class="font-bold text-lg">Deep Dive: The REAL Dangers of VLAN 1</h4>
                        <p>We told you to change the Native VLAN from 1. But the reason is deeper than just the Double Tagging attack. By default, <strong class="focus-text">VLAN 1 is the default VLAN for *everything*</strong>:</p>
                        <ul class="list-disc list-inside space-y-1 mt-2 pl-4">
                            <li>It's the default <strong>Access Port VLAN</strong> (all ports are in it).</li>
                            <li>It's the default <strong>Native VLAN</strong> (for trunks).</li>
                            <li>It's the (often) default <strong>Management VLAN</strong> (for Telnet/SSH to the switch).</li>
                            <li>It's the VLAN used for all <strong>Control Plane traffic</strong> (like <strong class="focus-text">CDP, DTP, and VTP</strong>).</li>
                        </ul>
                        <p class="mt-2">This means an attacker plugging into *any* unused port (which is on VLAN 1) can potentially sniff all your critical management and control protocols, learning the entire layout of your network. This is why we *always* move all ports to a "BLACKHOLE" VLAN and change the Native VLAN to something unused.</p>
                    </div>

                    <!-- Attack 1 Box -->
                    <div class="not-prose bg-red-100 border-l-4 border-red-500 text-red-800 p-4 rounded-lg my-6 shadow-sm">
                        <h3 class="text-2xl font-bold mb-3 flex items-center">
                            <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 1.944..."></path></svg>
                            Attack 1: VLAN Hopping (via DTP)
                        </h3>
                        <p class="mb-4">This attack exploits the default DTP mode (<code>dynamic auto</code>).</p>
                        <h4 class="font-semibold text-lg mb-2">The Scenario:</h4>
                        <ol class="list-decimal list-inside space-y-1 mb-4">
                            <li>An attacker plugs their laptop into a wall jack (which is <code>dynamic auto</code>).</li>
                            <li>The attacker's software sends fake DTP messages, pretending to be a switch and requesting a trunk (<code>dynamic desirable</code>).</li>
                            <li>The switch port kindly agrees (because <code>auto</code> + <code>desirable</code> = <code>Trunk</code>).</li>
-                            <li><strong>Result:</strong> The attacker now has a trunk port, giving them access to send/receive traffic from <strong>all</strong> VLANs on the network.</li>
+                            <li><strong>Result:</strong> The attacker now has a trunk port, giving them access to send/receive traffic from <strong class="focus-text">all</strong> VLANs on the network.</li>
                        </ol>
                        <!-- Diagram for DTP Attack -->
                        <div class="bg-slate-100 border-2 border-dashed border-red-300 p-4 rounded-lg my-6">
                            <h5 class="text-lg font-bold text-red-700 mb-4 text-center">Data Flow: DTP Attack</h5>
                            <div class="flex items-center justify-around text-center">
                                <div class="flex flex-col items-center">
                                    <div class="bg-white p-3 rounded-lg shadow-md font-mono">[Attacker PC]</div>
                                    <div class="text-sm mt-2">"I'm a switch, let's trunk!"</div>
                                </div>
                                <div class="text-3xl text-red-500 mx-4 font-mono">&lt;-- DTP Desirable --&gt;</div>
                                <div class="flex flex-col items-center">
                                    <div class="bg-white p-3 rounded-lg shadow-md font-mono">[Switch Port]</div>
                                    <div class="text-sm mt-2">"Sure, I'm (auto)!"</div>
                                </div>
                            </div>
                        </div>
                        <h4 class="font-bold text-lg mb-2 text-green-700">‚úÖ The Solution (as mentioned before):</h4>
                        <ol class="list-decimal list-inside text-green-900 space-y-1">
                            <li>Change the Native VLAN from 1 to an unused VLAN (e.g., 999).</li>
                            <li>Do not put any user devices in this new Native VLAN.</li>
                        </ol>
                    </div>
                </div>

                <!-- NEW: Nav Buttons -->
                <div class="flex justify-between mt-12">
                    <a href="#voice-vlan" class="inline-flex items-center px-4 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg hover:bg-gray-400 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
                        &larr; Previous: Voice VLAN
                    </a>
                    <a href="#lab" class="inline-flex items-center px-4 py-2 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
                        Next: Comprehensive Lab &rarr;
                    </a>
                </div>
            </section>

            <!-- Section 6: Main LAB -->
            <section id="lab" class="mb-12 scroll-mt-24">
                <div class="prose prose-lg max-w-none prose-cyan bg-white p-8 rounded-lg shadow-sm">
                    <h2 class="text-3xl font-bold text-gray-800 border-b-2 border-cyan-500 pb-2">6Ô∏è‚É£ Comprehensive Lab (Main LAB)</h2>
                    <p>Now, let's put everything we've learned into practice.</p>
                    
                    <h3 class="question-title">The Scenario:</h3>
                    <p>We have two switches (SW1, SW2) connected via <code>Gi0/1</code>.</p>
                    <div class="not-prose grid md:grid-cols-2 gap-6 my-6">
                        <div class="bg-gray-50 p-4 rounded-lg border">
                            <h4 class="font-bold text-lg mb-2 text-gray-800">VLANs:</h4>
                            <ul class="list-disc list-inside space-y-1 text-gray-700">
                                <li><code>VLAN 10</code>: Employees (DATA)</li>
                                <li><code>VLAN 20</code>: IP Phones (VOICE)</li>
                                <li><code>VLAN 99</code>: New Native VLAN</li>
                                <li><code>VLAN 666</code>: Black Hole (for unused ports)</li>
                            </ul>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg border">
                            <h4 class="font-bold text-lg mb-2 text-gray-800">Ports:</h4>
                            <ul class="list-disc list-inside space-y-1 text-gray-700">
                                <li><code>Fa0/1</code> (SW1): Connects to an Employee PC.</li>
                                <li><code>Fa0/2</code> (SW1): Connects to an IP Phone + PC.</li>
                                <li><code>Fa0/3-24</code> (SW1): Unused ports.</li>
                                <li><code>Gi0/1</code> (SW1 & SW2): The link between them.</li>
                            </ul>
                        </div>
                    </div>

                    <h3 class="question-title">Requirements:</h3>
                    <ol>
                        <li>Create all VLANs on <strong class="focus-text">both</strong> switches.</li>
+                        <li>Configure the <code>Gi0/1</code> link as a <strong class="focus-text">static trunk</strong>.</li>
                        <li>Set the Native VLAN to <code>99</code> on the trunk.</li>
-                        <li>Allow <strong>only</strong> VLANs <code>10, 20, 99</code> to cross the trunk.</li>
+                        <li>Allow <strong class="focus-text">only</strong> VLANs <code>10, 20, 99</code> to cross the trunk.</li>
                        <li>Secure all unused ports (<code>Fa0/3-24</code>) on SW1 by shutting them down and moving them to <code>VLAN 666</code>.</li>
                    </ol>

                    <!-- --- ACCORDION SOLUTION --- -->
                    <div class="not-prose my-6">
                        <button class="accordion-toggle">
                            <span>Show/Hide Solution (for SW1)</span>
                            <span class="icon">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </span>
                        </button>
                        <div class="accordion-panel">
                            <div class="code-block relative">
                                <pre class="language-cisco bg-gray-900 text-white p-4 rounded-lg overflow-x-auto"><code class="language-cisco">! Step 1: Create VLANs
Switch(config)# <span class="command-line">vlan 10</span>
Switch(config-vlan)# <span class="command-line">name DATA</span>
Switch(config)# <span class="command-line">vlan 20</span>
Switch(config-vlan)# <span class="command-line">name VOICE</span>
Switch(config)# <span class="command-line">vlan 99</span>
Switch(config-vlan)# <span class="command-line">name NATIVE</span>
Switch(config)# <span class="command-line">vlan 666</span>
Switch(config-vlan)# <span class="command-line">name BLACKHOLE</span>

! Steps 2, 3, 4: Configure the Trunk
Switch(config)# <span class="command-line">interface GigabitEthernet0/1</span>
Switch(config-if)# <span class="command-line">switchport mode trunk</span>
Switch(config-if)# <span class="command-line">switchport trunk native vlan 99</span>
Switch(config-if)# <span class="command-line">switchport trunk allowed vlan 10,20,99</span>
Switch(config-if)# <span class="command-line">switchport non-negotiate</span>  ! (Bonus: Disabling DTP)
Switch(config-if)# <span class="command-line">exit</span>

! Step 5: Configure Employee Port
Switch(config)# <span class="command-line">interface FastEthernet0/1</span>
Switch(config-if)# <span class="command-line">switchport mode access</span>
Switch(config-if)# <span class="command-line">switchport access vlan 10</span>
Switch(config-if)# <span class="command-line">exit</span>

! Step 6: Configure Phone + PC Port
Switch(config)# <span class="command-line">interface FastEthernet0/2</span>
Switch(config-if)# <span class="command-line">switchport mode access</span>
Switch(config-if)# <span class="command-line">switchport access vlan 10</span>
Switch(config-if)# <span class="command-line">switchport voice vlan 20</span>
Switch(config-if)# <span class="command-line">exit</span>

! Step 7: Secure Unused Ports
Switch(config)# <span class="command-line">interface range FastEthernet0/3-24</span>
Switch(config-if-range)# <span class="command-line">shutdown</span>
Switch(config-if-range)# <span class="command-line">switchport mode access</span>
Switch(config-if-range)# <span class="command-line">switchport access vlan 666</span>
Switch(config-if-range)# <span class="command-line">exit</span>
</code><button class="copy-btn">Copy</button></pre>
                            </div>
                        </div>
                    </div>
                    <!-- --- END ACCORDION --- -->
                    <p class="text-sm font-medium"><em>(Note: Repeat steps 1 & 2-4 on SW2 to ensure a match!)</em></p>
                </div>

                <!-- NEW: Nav Buttons -->
                <div class="flex justify-between mt-12">
                    <a href="#security" class="inline-flex items-center px-4 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg hover:bg-gray-400 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
                        &larr; Previous: VLAN Security
                    </a>
-                    <a href="#conclusion" class="inline-flex items-center px-4 py-2 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
-                        Next: Conclusion &rarr;
-                    </a>
+                    <a href="#bonus-vtp" class="inline-flex items-center px-4 py-2 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
+                        Next: Bonus: VTP &rarr;
+                    </a>
                </div>
            </section>

            <!-- NEW: Section 7: Bonus VTP -->
            <section id="bonus-vtp" class="mb-12 scroll-mt-24">
                <div class="prose prose-lg max-w-none prose-cyan bg-white p-8 rounded-lg shadow-sm">
                    <h2 class="text-3xl font-bold text-gray-800 border-b-2 border-cyan-500 pb-2">7Ô∏è‚É£ Bonus Trick: VLAN Trunking Protocol (VTP)</h2>
                    
                    <h3 class="question-title">The Problem: Managing VLANs on 50 Switches</h3>
                    <p>In our lab, we noted that you must create the VLANs on <strong>both</strong> switches. This is fine for two switches, but what about a network with 50 or 100? Creating, renaming, or deleting VLANs manually on every single switch is a nightmare and prone to errors (like typos).</p>

                    <h3 class="question-title">The Solution: VLAN Trunking Protocol (VTP)</h3>
                    <p>VTP is a Cisco-proprietary protocol that synchronizes the VLAN database (VLAN names and numbers) across your entire network. You make a change on one "Server" switch, and all "Client" switches learn it automatically.</p>
                    <p>For VTP to work, all switches must be on the same <strong class="focus-text">VTP Domain</strong> and (optionally) share the same password. This traffic is advertised over trunk links.</p>

                    <h3 class="question-title">VTP Modes</h3>
                    <ol>
                        <li><strong>VTP Server:</strong> This is the master. You can create, delete, and rename VLANs here. It advertises its VLAN list to all other switches in the domain. (This is the default mode).</li>
                        <li><strong>VTP Client:</strong> This switch listens to and accepts updates from a Server. You <strong class="focus-text">cannot</strong> create or delete VLANs on a client. It just synchronizes.</li>
                        <li><strong>VTP Transparent:</strong> This switch doesn't participate. It ignores VTP updates (except to forward them) and only uses its own local VLAN database. You *can* create/delete local VLANs on it.</li>
                    </ol>

                    <h3 class="question-title">How to Configure VTP</h3>
                    <div class="not-prose code-block relative my-6">
                        <pre class="language-cisco bg-gray-900 text-white p-4 rounded-lg overflow-x-auto"><code class="language-cisco">! On your main "Server" switch (e.g., Core Switch)
Switch(config)# <span class="command-line">vtp mode server</span>
Switch(config)# <span class="command-line">vtp domain MY_COMPANY</span>
Switch(config)# <span class="command-line">vtp password cisco123</span>

! On your other "Client" switches (e.g., Access Switches)
Switch(config)# <span class="command-line">vtp mode client</span>
Switch(config)# <span class="command-line">vtp domain MY_COMPANY</span>
Switch(config)# <span class="command-line">vtp password cisco123</span>
</code><button class="copy-btn">Copy</button></pre>
                    </div>

                    <!-- Pro-Tip Box -->
                    <div class="not-prose bg-cyan-50 border-l-4 border-cyan-500 text-cyan-800 p-4 rounded-lg my-6 shadow-sm">
                        <h4 class="font-bold text-lg flex items-center">
                            <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>
                            <strong>Pro-Tip: VTP Pruning</strong>
                        </h4>
                        <p>VTP has another feature called <strong class="focus-text">Pruning</strong>. When enabled, VTP dynamically tells switches which VLANs are *actually* in use on their ports. This automatically "prunes" (trims) unnecessary VLANs from trunk links, doing the job of `switchport trunk allowed vlan` automatically.</p>
                        <code class="block bg-cyan-100 p-2 rounded mt-2 text-left font-mono" dir="ltr">Switch(config)# <span class="command-line">vtp pruning</span></code>
                    </div>

                    <!-- --- KNOWLEDGE CHECK 7 --- -->
                    <div class="not-prose quiz-container mt-12 bg-gray-50 p-6 rounded-lg border border-gray-200">
                        <h4 class="text-xl font-semibold text-gray-800 mb-4">üß† Knowledge Check</h4>
                        <p class="font-medium text-gray-700 mb-4">In which VTP mode can you *not* create, delete, or modify VLANs locally?</p>
                        <div class="quiz-options">
                            <label class="quiz-option">
                                <input type="radio" name="quiz_vtp" value="a">
                                <span class="ml-2">Server</span>
                            </label>
                            <label class="quiz-option">
                                <input type="radio" name="quiz_vtp" value="b" data-correct="true">
                                <span class="ml-2">Client</span>
                            </label>
                            <label class="quiz-option">
                                <input type="radio" name="quiz_vtp" value="c">
                                <span class="ml-2">Transparent</span>
                            </label>
                        </div>
                        <button class="quiz-check-btn mt-4 bg-cyan-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-cyan-700 transition">Check Answer</button>
                        <div class="quiz-feedback quiz-correct hidden mt-4">
                            <strong>Correct!</strong> A VTP Client only synchronizes its database from a server and does not allow local VLAN modifications.
                        </div>
                        <div class="quiz-feedback quiz-incorrect hidden mt-4">
                            <strong>Incorrect.</strong> You *can* modify VLANs in Server mode (that's its job) and Transparent mode (they are local only). A Client cannot.
                        </div>
                    </div>
                    <!-- --- END KNOWLEDGE CHECK 7 --- -->
                </div>

                <!-- NEW: Nav Buttons -->
                <div class="flex justify-between mt-12">
                    <a href="#lab" class="inline-flex items-center px-4 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg hover:bg-gray-400 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
                        &larr; Previous: Comprehensive Lab
                    </a>
                    <a href="#bonus-protected" class="inline-flex items-center px-4 py-2 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
                        Next: Bonus: Protected Ports &rarr;
                    </a>
                </div>
            </section>

            <!-- NEW: Section 8: Bonus Protected Ports -->
            <section id="bonus-protected" class="mb-12 scroll-mt-24">
                <div class="prose prose-lg max-w-none prose-cyan bg-white p-8 rounded-lg shadow-sm">
                    <h2 class="text-3xl font-bold text-gray-800 border-b-2 border-cyan-500 pb-2">8Ô∏è‚É£ Bonus Trick: Protected Ports (PVLAN Edge)</h2>
                    
                    <h3 class="question-title">The Problem: Isolating Users *Inside* the Same VLAN</h3>
                    <p>We've mastered isolating VLANs from each other (VLAN 10 can't talk to VLAN 20). But what if you have a "Guest" VLAN (VLAN 50) and you don't want guests to be able to scan or attack *each other's* laptops? This is a common setup in hotels and guest Wi-Fi networks.</p>

                    <h3 class="question-title">The Solution: Protected Ports</h3>
                    <p>This is a simple security feature, sometimes called "PVLAN Edge." It creates isolation at Layer 2 (within the same VLAN).</p>
                    <ul class="list-disc list-inside space-y-2">
                        <li>A <strong class="focus-text">Protected Port</strong> can *not* forward traffic to another Protected Port (on the same switch).</li>
                        <li>A <strong class="focus-text">Protected Port</strong> *can* forward traffic to any <strong class="focus-text">Unprotected Port</strong> (like the port going to the router/firewall).</li>
                    </ul>
                    <p>By making all your guest ports "protected" and making the router port "unprotected," you allow all guests to reach the internet, but prevent them from seeing each other.</p>

                    <h3 class="question-title">How to Configure Protected Ports</h3>
                    <div class="not-prose code-block relative my-6">
                        <pre class="language-cisco bg-gray-900 text-white p-4 rounded-lg overflow-x-auto"><code class="language-cisco">! On Guest ports (e.g., in a hotel)
Switch(config)# <span class="command-line">interface range FastEthernet0/1-23</span>
Switch(config-if-range)# <span class="command-line">switchport protected</span>

! On the port going to the router (the "Uplink")
Switch(config)# <span class="command-line">interface FastEthernet0/24</span>
Switch(config-if)# <span class="command-line">no switchport protected</span> ! (This is the default, but good to verify)
</code><button class="copy-btn">Copy</button></pre>
                    </div>

                    <!-- --- KNOWLEDGE CHECK 8 --- -->
                    <div class="not-prose quiz-container mt-12 bg-gray-50 p-6 rounded-lg border border-gray-200">
                        <h4 class="text-xl font-semibold text-gray-800 mb-4">üß† Knowledge Check</h4>
                        <p class="font-medium text-gray-700 mb-4">A PC on port Fa0/1 (protected) tries to ping a PC on port Fa0/2 (protected) in the same VLAN. Will it succeed?</p>
                        <div class="quiz-options">
                            <label class="quiz-option">
                                <input type="radio" name="quiz_protected" value="a">
                                <span class="ml-2">Yes, they are in the same VLAN.</span>
                            </label>
                            <label class="quiz-option">
                                <input type="radio" name="quiz_protected" value="b" data-correct="true">
                                <span class="ml-2">No, protected ports cannot communicate with each other.</span>
                            </label>
                        </div>
                        <button class="quiz-check-btn mt-4 bg-cyan-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-cyan-700 transition">Check Answer</button>
                        <div class="quiz-feedback quiz-correct hidden mt-4">
                            <strong>Correct!</strong> The entire point of protected ports is to block Layer 2 communication between them, even if they are in the same VLAN.
                        </div>
                        <div class="quiz-feedback quiz-incorrect hidden mt-4">
_                            <strong>Incorrect.</strong> While they are in the same VLAN, the `switchport protected` command specifically blocks this communication.
                        </div>
                    </div>
                    <!-- --- END KNOWLEDGE CHECK 8 --- -->
                </div>

                <!-- NEW: Nav Buttons -->
                <div class="flex justify-between mt-12">
                    <a href="#bonus-vtp" class="inline-flex items-center px-4 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg hover:bg-gray-400 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
                        &larr; Previous: Bonus: VTP
                    </a>
                    <a href="#conclusion" class="inline-flex items-center px-4 py-2 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
                        Next: Conclusion &rarr;
                    </a>
                </div>
            </section>

            <!-- Conclusion -->
-            <section id="conclusion" class="mb-12 scroll-mt-24">
+            <section id="conclusion" class="mb-12 scroll-mt-24">
                <div class="prose prose-lg max-w-none prose-cyan">
                    <div class="not-prose bg-cyan-50 border-l-4 border-cyan-500 p-6 rounded-lg shadow-sm">
-                        <h2 class="text-3xl font-bold text-cyan-800 mb-6">Conclusion</h2>
+                        <h2 class="text-3xl font-bold text-cyan-800 mb-6">9Ô∏è‚É£ Conclusion</h2>
                        <p class="text-xl text-cyan-800 mb-4">Great job! By the end of this part, you don't just "know" how to create VLANs; you "understand" how to manage and secure them professionally.</p>
                        <p class="text-lg text-gray-700 mb-4">We've uncovered the secrets of trunk links (Native & Allowed VLANs), learned the dangers of defaults (DTP), handled real-world scenarios (Voice VLAN), and tied it all to security (VLAN Hopping).</p>
-                        <p class="text-lg text-gray-700 font-semibold mb-4">Our network is now properly isolated and professionally secured.</p>
+                        <p class="text-lg text-gray-700 font-semibold mb-4">With the bonus VTP and Protected Port sections, our network is now scalable and secure at both the inter-VLAN and intra-VLAN levels.</p>
                        <p class="text-lg text-gray-700 font-bold text-cyan-700"><strong>Next up (Part 4):</strong> We'll answer the big question... "Now that we've isolated everything, how do we let <code>VLAN 10</code> talk to <code>VLAN 20</code> in a secure, controlled way?" It's time for <strong>Inter-VLAN Routing</strong>.</p>
                    </div>
                </div>
                
                <!-- NEW: Nav Buttons -->
                <div class="flex justify-start mt-12">
-                    <a href="#lab" class="inline-flex items-center px-4 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg hover:bg-gray-400 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
-                        &larr; Previous: Comprehensive Lab
+                    <a href="#bonus-protected" class="inline-flex items-center px-4 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg hover:bg-gray-400 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
+                        &larr; Previous: Bonus: Protected Ports
                    </a>
                </div>
            </section>

            <!-- Conclusion -->
            <section id="conclusion" class="mb-12 scroll-mt-24">
                <div class="prose prose-lg max-w-none prose-cyan">
                    <div class="not-prose bg-cyan-50 border-l-4 border-cyan-500 p-6 rounded-lg shadow-sm">
                        <h2 class="text-3xl font-bold text-cyan-800 mb-6">Conclusion</h2>
                        <p class="text-xl text-cyan-800 mb-4">Great job! By the end of this part, you don't just "know" how to create VLANs; you "understand" how to manage and secure them professionally.</p>
                        <p class="text-lg text-gray-700 mb-4">We've uncovered the secrets of trunk links (Native & Allowed VLANs), learned the dangers of defaults (DTP), handled real-world scenarios (Voice VLAN), and tied it all to security (VLAN Hopping).</p>
                        <p class="text-lg text-gray-700 font-semibold mb-4">Our network is now properly isolated and professionally secured.</p>
                        <p class="text-lg text-gray-700 font-bold text-cyan-700"><strong>Next up (Part 4):</strong> We'll answer the big question... "Now that we've isolated everything, how do we let <code>VLAN 10</code> talk to <code>VLAN 20</code> in a secure, controlled way?" It's time for <strong>Inter-VLAN Routing</strong>.</p>
                    </div>
                </div>
                
                <!-- NEW: Nav Buttons -->
                <div class="flex justify-start mt-12">
                    <a href="#lab" class="inline-flex items-center px-4 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg hover:bg-gray-400 transition shadow hover:shadow-lg transform hover:-translate-y-0.5">
                        &larr; Previous: Comprehensive Lab
                    </a>
                </div>
            </section>

        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- Code Copy Button Functionality ---
            const allCodeBlocks = document.querySelectorAll('.code-block');
            const copyMessage = document.getElementById('copy-message');
            let messageTimer;

            allCodeBlocks.forEach(block => {
                const copyButton = block.querySelector('.copy-btn');
                
                // --- FIX: Check if the button exists before adding a listener ---
                if (copyButton) {
                    const code = block.querySelector('code').innerText; 
                
                    copyButton.addEventListener('click', (e) => { 
                        if (navigator.clipboard) {
                            navigator.clipboard.writeText(code).then(() => {
                                showCopyMessage(e.target);
                            }).catch(err => {
                                console.error('Failed to copy text using Clipboard API: ', err);
                                fallbackCopyText(code, e.target);
                            });
                        } else {
                            fallbackCopyText(code, e.target);
                        }
                    });
                }
                // --- END FIX ---
            });

            function fallbackCopyText(text, button) {
                const tempTextArea = document.createElement('textarea');
                tempTextArea.value = text;
                document.body.appendChild(tempTextArea);
                tempTextArea.select();
                try {
                    document.execCommand('copy');
                    showCopyMessage(button);
                } catch (err) {
                    console.error('Failed to copy text using execCommand: ', err);
                }
                document.body.removeChild(tempTextArea);
            }

            function showCopyMessage(button) {
                button.innerText = 'Copied!';
                button.classList.add('bg-green-500');
                copyMessage.classList.remove('hidden');
                
                clearTimeout(messageTimer);
                messageTimer = setTimeout(() => {
                    copyMessage.classList.add('hidden');
                    button.innerText = 'Copy';
                    button.classList.remove('bg-green-500');
                }, 2000);
            }

            // --- Mobile Sidebar Toggle ---
            const menuBtn = document.getElementById('mobile-menu-btn');
            const sidebar = document.getElementById('sidebar');

            menuBtn.addEventListener('click', () => {
                sidebar.classList.toggle('-translate-x-full');
            });
            
            // --- Close sidebar on link click (mobile) ---
            const sidebarLinks = document.querySelectorAll('#sidebar-links a');
            sidebarLinks.forEach(link => {
                link.addEventListener('click', () => {
                    if (window.innerWidth < 768) { // md breakpoint
                        sidebar.classList.add('-translate-x-full');
                    }
                });
            });

            // --- Active Link Scrollspy ---
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.sidebar-link');

            const observerOptions = {
                root: null,
                rootMargin: '0px 0px -50% 0px',
                threshold: 0
            };

            const observer = new IntersectionObserver((entries) => {
                let activeId = null;
                
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        if (!activeId) {
                            activeId = entry.target.getAttribute('id');
                        }
                    }
                });

                if (!activeId) {
                    const lastVisible = Array.from(entries).find(e => e.boundingClientRect.top < window.innerHeight / 2);
                    if(lastVisible) activeId = lastVisible.target.getAttribute('id');
                }
                
                if(activeId) {
                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === `#${activeId}`) {
                            link.classList.add('active');
                        }
                    });
                }

            }, observerOptions);

            sections.forEach(section => {
                observer.observe(section);
            });
            
            if (navLinks.length > 0) {
                navLinks[0].classList.add('active');
            }

            // --- NEW: Quiz Logic ---
            const quizContainers = document.querySelectorAll('.quiz-container');
            quizContainers.forEach(quiz => {
                const checkBtn = quiz.querySelector('.quiz-check-btn');
                const options = quiz.querySelectorAll('input[type="radio"]');
                const correctFeedback = quiz.querySelector('.quiz-correct');
                const incorrectFeedback = quiz.querySelector('.quiz-incorrect');

                checkBtn.addEventListener('click', () => {
                    let selectedOption = quiz.querySelector('input[type="radio"]:checked');
                    
                    // Hide both feedbacks first
                    correctFeedback.classList.add('hidden');
                    incorrectFeedback.classList.add('hidden');

                    if (!selectedOption) return; // Do nothing if no answer is selected

                    if (selectedOption.hasAttribute('data-correct')) {
                        correctFeedback.classList.remove('hidden');
                    } else {
                        incorrectFeedback.classList.remove('hidden');
                    }
                });
            });

            // --- NEW: Accordion Logic ---
            const accordionToggles = document.querySelectorAll('.accordion-toggle');
            accordionToggles.forEach(toggle => {
                toggle.addEventListener('click', () => {
                    toggle.classList.toggle('active');
                    // The panel is the next element sibling
                    let panel = toggle.nextElementSibling;
                    if (panel.style.maxHeight) {
                        panel.style.maxHeight = null;
                        panel.style.opacity = 0;
                    } else {
                        panel.style.maxHeight = panel.scrollHeight + "px";
                        panel.style.opacity = 1;
                    }
                });
            });

        });
    </script>

</body>

</html>
